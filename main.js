!function(){"use strict";function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let t={self:""};const s=document.querySelector(".profile__edit-button"),i=document.querySelector(".profile__add-btn"),n=document.querySelector(".profile__picture-button");const r="popup_active";class o{constructor(e){this._selector=e,this._modal=document.querySelector("".concat(this._selector)),this._handleEscKey=this._handleEscKey.bind(this),this._handleClosePopup=this._handleClosePopup.bind(this)}_handleEscKey(e){"Escape"===e.key&&this.close()}setEventListeners(){this._modal.addEventListener("mouseup",this._handleClosePopup)}_handleClosePopup(e){e.target.classList.contains(r)&&this.close(),e.target.classList.contains("popup__container-close")&&this.close()}open(){document.addEventListener("keyup",this._handleEscKey),this._modal.classList.add(r)}close(){document.removeEventListener("keyup",this._handleEscKey),this._modal.classList.remove(r)}}class a extends o{constructor(e){let{selector:t,handleSubmit:s,loadingBtnText:i}=e;super(t),this._handleSubmit=s,this._handleSubmit=this._handleSubmit.bind(this),this._handlerWithForm=this._handlerWithForm.bind(this),this._form=this._modal.querySelector(".popup-edit"),this._inputFields=[...this._form.querySelectorAll(".popup-edit__field")],this._submitBtn=this._modal.querySelector(".popup-edit__submit"),this._btnInitText=this._submitBtn.textContent,this._loadingBtnText=i,console.log(this._btnInitText)}_getInputValues(){const e={};return this._inputFields.forEach((t=>{e[t.name]=t.value})),e}open(e){e&&this._setInputValues(e),super.open()}_setInputValues(e){this._inputFields.forEach((t=>{Object.keys(e).forEach((s=>{t.name===s&&(t.value=e[s])}))}))}_handlerWithForm(e){e.preventDefault(),this._handleSubmit(this._getInputValues())}showLoading(){this._submitBtn.textContent=this._loadingBtnText}hideLoading(){this._submitBtn.textContent=this._btnInitText}setEventListeners(){this._form.addEventListener("submit",this._handlerWithForm),super.setEventListeners()}close(){super.close(),setTimeout((()=>this._form.reset()),500)}}const h=new class{constructor(e){let{baseURL:t,headers:s}=e;var i,n;n=e=>e.ok?e.json():Promise.reject("Error: ".concat(e.statusText)),(i="_processResponse")in this?Object.defineProperty(this,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[i]=n,this._baseURL=t,this._headers=s}getUserInfo(){return fetch("".concat(this._baseURL,"/users/me"),{headers:this._headers}).then((e=>this._processResponse(e)))}getInitialCards(){return fetch("".concat(this._baseURL,"/cards"),{headers:this._headers}).then((e=>this._processResponse(e)))}patchUserInfo(e){return fetch("".concat(this._baseURL,"users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify(e)}).then((e=>this._processResponse(e)))}postNewCard(e){return fetch("".concat(this._baseURL,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)}).then((e=>this._processResponse(e)))}deleteCard(e){return fetch("".concat(this._baseURL,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then((e=>this._processResponse(e)))}addLike(e){return fetch("".concat(this._baseURL,"cards/likes/").concat(e),{headers:this._headers,method:"PUT"}).then((e=>this._processResponse(e)))}removeLike(e){return fetch("".concat(this._baseURL,"cards/likes/").concat(e),{headers:this._headers,method:"DELETE"}).then((e=>this._processResponse(e)))}changeAvatar(e){return fetch("".concat(this._baseURL,"users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((e=>this._processResponse(e)))}getInitialData(){return Promise.all([h.getUserInfo(),h.getInitialCards()])}}({baseURL:"https://around.nomoreparties.co/v1/cohort-3-en/",headers:{authorization:"".concat("a71d10a8-c3e4-4a43-bbbc-db81e488ab20"),"Content-Type":"application/json"}}),l=new class{constructor(e){let{renderer:t,selector:s}=e;this._renderer=t,this._container=document.querySelector(s)}addItem(e){const t=this._renderer(e);this._container.prepend(t)}_clear(){this._container.innerHTML=""}renderAll(e){this._clear(),this._renderItems=e,this._renderItems.forEach((e=>{this.addItem(e)}))}}({renderer:e=>function(e){const s=new class{constructor(e,t){let{data:s,handleImg:i,handleDel:n,handleLike:r}=e;this._name=s.name,this._src=s.link,this._likesCount=s.likes.length,this._id=s._id,this.ownerId=s.owner._id,this._selector=t,this._hanldeImgClick=i,this._handleDel=n,this._handleLikeBtn=r}_getTemplate(){const e=document.querySelector("".concat(this._selector)).content.cloneNode(!0);return this._img=e.querySelector(".card__img"),this._caption=e.querySelector(".card__caption"),this._trash=e.querySelector(".card__trash"),this._like=e.querySelector(".card__like-btn"),this._likes=e.querySelector(".card__like-counter"),e}makeCard(){return this._element=this._getTemplate().querySelector(".card"),this._img.setAttribute("src",this._src),this._img.setAttribute("alt",this._name),this._caption.textContent=this._name,this._likes.textContent=this._likesCount,this._addListeners(),t.self!=this.ownerId&&(this._trash.classList.add("trash_display-none"),this._trash.setAttribute("disabled","")),this._element.setAttribute("id",this._id),this._element}_addListeners(){this._like.addEventListener("click",(()=>this._handleLikeBtn())),this._img.addEventListener("click",(()=>this._hanldeImgClick({name:this._name,src:this._src}))),this._trash.addEventListener("click",(()=>this._handleDel(this._id)))}updateLikes(e){this._likesCount=e,this._renderLikes()}_isLiked(){return!(1==this._like.classList.length)}_renderLikes(){this._likes.textContent=this._likesCount,this._like.classList.toggle("card__like-btn_active")}remove(){this._element.remove()}}({data:e,handleImg:e=>{c.open(e)},handleDel:e=>{m.open(),m.setAction((()=>{h.deleteCard(e).then(s.remove()).catch((e=>console.log(e)))}))},handleLike:()=>{s._isLiked()?h.removeLike(s._id).then((e=>s.updateLikes(e.likes.length))).catch(console.error):h.addLike(s._id).then((e=>s.updateLikes(e.likes.length))).catch(console.error)}},"#card");return s.makeCard()}(e),selector:".gallery"}),c=new class extends o{constructor(e){super(e),this._image=this._modal.querySelector(".img-popout__img"),this._caption=this._modal.querySelector(".img-popout__caption")}open(e){this._image.src=e.src,this._image.alt=e.name,this._caption.textContent=e.name,super.open()}}("#imgPopup");c.setEventListeners();const d=new a({selector:"#avatar",handleSubmit:e=>{e=e.imageLink,d.showLoading(),h.changeAvatar(e).then((e=>{p.setUserInfo(e),d.close()})).catch((e=>console.log(e))).finally(d.hideLoading())},loadingBtnText:"Saving..."});d.setEventListeners();const _=new a({selector:"#profilePopup",handleSubmit:e=>{_.showLoading(),h.patchUserInfo(e).then((e=>{p.setUserInfo(e),_.close()})).catch((e=>console.log(e))).finally(_.hideLoading())},loadingBtnText:"Saving..."});_.setEventListeners();const u=new a({selector:"#addCardPopup",handleSubmit:e=>{u.showLoading(),h.postNewCard(e).then((e=>{l.addItem(e),u.close()})).catch((e=>console.log(e))).finally(u.hideLoading())},loadingBtnText:"Saving..."});u.setEventListeners();const m=new class extends o{setAction(e){this._handleSubmit=e}setEventListeners(){this._modal.querySelector(".popup-edit__submit").addEventListener("mouseup",(e=>{this._handleSubmit(e),this.close()})),super.setEventListeners()}}("#cardDelete");m.setEventListeners();const p=new class{constructor(e){this._nameSelector=e.nameSelector,this._jobSelector=e.jobSelector,this._nameNode=document.querySelector("".concat(this._nameSelector)),this._jobNode=document.querySelector("".concat(this._jobSelector)),this._pictureNode=document.querySelector(".profile__picture"),this.id=e._id,this._avatar=e.avatar}getUserInfo(){return this._name=this._nameNode.textContent,this._job=this._jobNode.textContent,{name:this._name,about:this._job}}setUserInfo(e){this._nameNode.textContent=e.name,this._jobNode.textContent=e.about,this.id=e._id,this.setUserAvatar(e.avatar)}getUserAvatar(){return this._avatar}setUserAvatar(e){this._pictureNode.src=e}}({nameSelector:".profile__user-name",jobSelector:".profile__user-about"}),b={};var g;g={formSelector:".popup-edit",inputSelector:".popup-edit__field",submitButtonSelector:".popup-edit__submit",inactiveButtonClass:"",inputErrorClass:"popup-edit__field_error",errorClass:"popup-edit__error-msg-inactive"},Array.from(document.querySelectorAll(g.formSelector)).forEach((t=>{const s=new class{constructor(t,s){e(this,"_hideOrShowError",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)})),e(this,"_showInputError",((e,t)=>{const s=this._formElement.querySelector("#".concat(e.getAttribute("name")));e.classList.add(this._settings.inputErrorClass),s.textContent=t,s.classList.remove(this._settings.errorClass)})),e(this,"_hideInputError",(e=>{const t=this._formElement.querySelector("#".concat(e.getAttribute("name")));e.classList.remove(this._settings.inputErrorClass),t.classList.add(this._settings.errorClass),t.textContent=""})),e(this,"_hasInvalidInput",(e=>e.some((e=>!e.validity.valid)))),this._settings=t,this._formElement=s,this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._btnElement=this._formElement.querySelector(this._settings.submitButtonSelector)}resetValidation(){this._toggleBtnState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._toggleBtnState(),this.resetValidation(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._hideOrShowError(e),this._toggleBtnState()}))}))}_toggleBtnState(){this._hasInvalidInput(this._inputList)?this._btnElement.setAttribute("disabled",""):this._btnElement.removeAttribute("disabled","")}}(g,t),i=t.getAttribute("name");b[i]=s,s.enableValidation()})),h.getInitialData().then((e=>{let[s,i]=e;p.setUserInfo(s),t.self=s._id,l.renderAll(i)})),n.addEventListener("click",(function(){d.open()})),s.addEventListener("click",(function(){const e=p.getUserInfo();_.open(e),b.editProfileForm.resetValidation()})),i.addEventListener("click",(function(){b.addCardForm.resetValidation(),u.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzlCMUMsRUFBUWhJLE1BQ1QsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvdXRpbHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvV2FyblBvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVE9LRU4gPSBcImE3MWQxMGE4LWMzZTQtNGE0My1iYmJjLWRiODFlNDg4YWIyMFwiO1xyXG5sZXQgTUVJRCA9IHtzZWxmOiAnJ307XHJcbmNvbnN0IGJ0bkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYnRuQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcclxuY29uc3QgYnRuUHJvZmlsZVBpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fcGljdHVyZS1idXR0b24nKTtcclxuY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cC1lZGl0XCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXAtZWRpdF9fZmllbGRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXAtZWRpdF9fc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXAtZWRpdF9fZmllbGRfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwLWVkaXRfX2Vycm9yLW1zZy1pbmFjdGl2ZVwiLFxyXG59O1xyXG5cclxuZXhwb3J0IHsgYnRuRWRpdFByb2ZpbGUsIGJ0bkFkZENhcmQsIHNldHRpbmdzLCBUT0tFTiwgYnRuUHJvZmlsZVBpY3R1cmUsIE1FSUQgfTtcclxuIiwiY29uc3QgUE9QVVBfQUNUSVZFX0NMQVNTID0gXCJwb3B1cF9hY3RpdmVcIjtcclxuY29uc3QgUE9QVVBfQ0xPU0VfQlROX1NFTEVDVE9SID0gXCJwb3B1cF9fY29udGFpbmVyLWNsb3NlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICB0aGlzLl9tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fc2VsZWN0b3J9YCk7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NLZXkgPSB0aGlzLl9oYW5kbGVFc2NLZXkuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZUNsb3NlUG9wdXAgPSB0aGlzLl9oYW5kbGVDbG9zZVBvcHVwLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjS2V5KGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9tb2RhbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9oYW5kbGVDbG9zZVBvcHVwKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDbG9zZVBvcHVwKGV2dCkge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFBPUFVQX0FDVElWRV9DTEFTUykpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFBPUFVQX0NMT1NFX0JUTl9TRUxFQ1RPUikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NLZXkpO1xyXG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LmFkZChQT1BVUF9BQ1RJVkVfQ0xBU1MpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjS2V5KTtcclxuICAgIHRoaXMuX21vZGFsLmNsYXNzTGlzdC5yZW1vdmUoUE9QVVBfQUNUSVZFX0NMQVNTKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jb25zdCBGT1JNX1NFTEVDVE9SID0gXCIucG9wdXAtZWRpdFwiO1xyXG5jb25zdCBGT1JNX0lOUFVUX0ZJRUxEX1NFTEVDVE9SID0gXCIucG9wdXAtZWRpdF9fZmllbGRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBzZWxlY3RvciwgaGFuZGxlU3VibWl0LCBsb2FkaW5nQnRuVGV4dCB9KSB7XHJcbiAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSB0aGlzLl9oYW5kbGVTdWJtaXQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZXJXaXRoRm9ybSA9IHRoaXMuX2hhbmRsZXJXaXRoRm9ybS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoRk9STV9TRUxFQ1RPUik7XHJcbiAgICB0aGlzLl9pbnB1dEZpZWxkcyA9IFtcclxuICAgICAgLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKEZPUk1fSU5QVVRfRklFTERfU0VMRUNUT1IpLFxyXG4gICAgXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtZWRpdF9fc3VibWl0XCIpO1xyXG4gICAgdGhpcy5fYnRuSW5pdFRleHQgPSB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQ7XHJcbiAgICB0aGlzLl9sb2FkaW5nQnRuVGV4dCA9IGxvYWRpbmdCdG5UZXh0O1xyXG4gICAgY29uc29sZS5sb2codGhpcy5fYnRuSW5pdFRleHQpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0RmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2ZpZWxkLm5hbWVdID0gZmllbGQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgaWYgKGRhdGEpIHRoaXMuX3NldElucHV0VmFsdWVzKGRhdGEpO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgX3NldElucHV0VmFsdWVzKHZhbHVlcykge1xyXG4gICAgdGhpcy5faW5wdXRGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuICAgICAgT2JqZWN0LmtleXModmFsdWVzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBpZiAoZmllbGQubmFtZSA9PT0ga2V5KSB7XHJcbiAgICAgICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVyV2l0aEZvcm0oZXZ0KSB7XHJcbiAgICB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaG93TG9hZGluZygpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IHRoaXMuX2xvYWRpbmdCdG5UZXh0O1xyXG4gIH1cclxuXHJcbiAgaGlkZUxvYWRpbmcoKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSB0aGlzLl9idG5Jbml0VGV4dDtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZXJXaXRoRm9ybSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLl9mb3JtLnJlc2V0KCksIDUwMCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFRPS0VOIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XHJcblxyXG5jbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVVJMID0gYmFzZVVSTDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX3Byb2Nlc3NSZXNwb25zZSA9IChyZXMpID0+IHtcclxuICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXNUZXh0fWApO1xyXG4gIH07XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L3VzZXJzL21lYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pLnRoZW4oXHJcbiAgICAgIChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9L2NhcmRzYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pLnRoZW4oXHJcbiAgICAgIChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcGF0Y2hVc2VySW5mbyhkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH11c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBwb3N0TmV3Q2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9wcm9jZXNzUmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVSTH0vY2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgYWRkTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9Y2FyZHMvbGlrZXMvJHtpZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9Y2FyZHMvbGlrZXMvJHtpZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlQXZhdGFyKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVUkx9dXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXIgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX3Byb2Nlc3NSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxEYXRhKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVSTDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zLWVuL1wiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IGAke1RPS0VOfWAsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgYnRuRWRpdFByb2ZpbGUsXHJcbiAgYnRuQWRkQ2FyZCxcclxuICBidG5Qcm9maWxlUGljdHVyZSxcclxuICBzZXR0aW5ncyxcclxuICBNRUlELFxyXG59IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9BcGkuanNcIjtcclxuaW1wb3J0IHsgV2FyblBvcHVwIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9XYXJuUG9wdXBcIjtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZCkge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoXHJcbiAgICB7XHJcbiAgICAgIGRhdGE6IGNhcmQsXHJcbiAgICAgIGhhbmRsZUltZzogKGNhcmQpID0+IHtcclxuICAgICAgICBwb3B1cEltZy5vcGVuKGNhcmQpO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVEZWw6IChpZCkgPT4ge1xyXG4gICAgICAgIGRlbFdhcm5Qb3B1cC5vcGVuKCk7XHJcbiAgICAgICAgZGVsV2FyblBvcHVwLnNldEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgLmRlbGV0ZUNhcmQoaWQpXHJcbiAgICAgICAgICAgIC50aGVuKGNhcmRFbGVtZW50LnJlbW92ZSgpKVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUxpa2U6ICgpID0+IHtcclxuICAgICAgICBpZiAoY2FyZEVsZW1lbnQuX2lzTGlrZWQoKSkge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5yZW1vdmVMaWtlKGNhcmRFbGVtZW50Ll9pZClcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiBjYXJkRWxlbWVudC51cGRhdGVMaWtlcyhyZXNwb25zZS5saWtlcy5sZW5ndGgpKVxyXG4gICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwaVxyXG4gICAgICAgICAgICAuYWRkTGlrZShjYXJkRWxlbWVudC5faWQpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gY2FyZEVsZW1lbnQudXBkYXRlTGlrZXMocmVzcG9uc2UubGlrZXMubGVuZ3RoKSlcclxuICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBcIiNjYXJkXCJcclxuICApO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudC5tYWtlQ2FyZCgpO1xyXG59XHJcblxyXG5jb25zdCBnYWxsZXJ5U2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtcclxuICByZW5kZXJlcjogKGNhcmQpID0+IHtcclxuICAgIHJldHVybiBjcmVhdGVDYXJkKGNhcmQpO1xyXG4gIH0sXHJcbiAgc2VsZWN0b3I6IFwiLmdhbGxlcnlcIixcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cEltZyA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNpbWdQb3B1cFwiKTtcclxucG9wdXBJbWcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlUGljdHVyZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHNlbGVjdG9yOiBcIiNhdmF0YXJcIixcclxuICBoYW5kbGVTdWJtaXQ6IChsaW5rKSA9PiB7XHJcbiAgICBsaW5rID0gbGluay5pbWFnZUxpbms7XHJcbiAgICBwcm9maWxlUGljdHVyZVBvcHVwLnNob3dMb2FkaW5nKCk7XHJcbiAgICBhcGlcclxuICAgICAgLmNoYW5nZUF2YXRhcihsaW5rKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgICBwcm9maWxlUGljdHVyZVBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseShwcm9maWxlUGljdHVyZVBvcHVwLmhpZGVMb2FkaW5nKCkpO1xyXG4gIH0sXHJcbiAgbG9hZGluZ0J0blRleHQ6IFwiU2F2aW5nLi4uXCIsXHJcbn0pO1xyXG5wcm9maWxlUGljdHVyZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5leHBvcnQgY29uc3QgZWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgc2VsZWN0b3I6IFwiI3Byb2ZpbGVQb3B1cFwiLFxyXG4gIGhhbmRsZVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgIGVkaXRQcm9maWxlLnNob3dMb2FkaW5nKCk7XHJcbiAgICBhcGlcclxuICAgICAgLnBhdGNoVXNlckluZm8oZGF0YSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgICAgZWRpdFByb2ZpbGUuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgIC5maW5hbGx5KGVkaXRQcm9maWxlLmhpZGVMb2FkaW5nKCkpO1xyXG4gIH0sXHJcbiAgbG9hZGluZ0J0blRleHQ6IFwiU2F2aW5nLi4uXCIsXHJcblxyXG59KTtcclxuZWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHNlbGVjdG9yOiBcIiNhZGRDYXJkUG9wdXBcIixcclxuICBoYW5kbGVTdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBhZGRDYXJkLnNob3dMb2FkaW5nKCk7XHJcbiAgICBhcGlcclxuICAgICAgLnBvc3ROZXdDYXJkKGRhdGEpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBnYWxsZXJ5U2VjdGlvbi5hZGRJdGVtKHJlcyk7XHJcbiAgICAgICAgYWRkQ2FyZC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgLmZpbmFsbHkoYWRkQ2FyZC5oaWRlTG9hZGluZygpKTtcclxuICB9LFxyXG4gIGxvYWRpbmdCdG5UZXh0OiBcIlNhdmluZy4uLlwiLFxyXG5cclxufSk7XHJcbmFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWxXYXJuUG9wdXAgPSBuZXcgV2FyblBvcHVwKFwiI2NhcmREZWxldGVcIik7XHJcbmRlbFdhcm5Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdXNlci1uYW1lXCIsXHJcbiAgam9iU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3VzZXItYWJvdXRcIixcclxufSk7XHJcblxyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHNldHRpbmdzKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZ3MuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCk7XHJcblxyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xyXG5cclxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcclxuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcclxuXHJcbmFwaS5nZXRJbml0aWFsRGF0YSgpLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNBcnJheV0pID0+IHtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbiAgTUVJRC5zZWxmID0gdXNlckRhdGEuX2lkO1xyXG4gIGdhbGxlcnlTZWN0aW9uLnJlbmRlckFsbChjYXJkc0FycmF5KTtcclxufSk7XHJcblxyXG5idG5Qcm9maWxlUGljdHVyZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUHJvZmlsZVBpY3R1cmUpO1xyXG5cclxuYnRuRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUVkaXRQcm9maWxlQnRuKTtcclxuXHJcbmJ0bkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUFkZENhcmQpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZVBpY3R1cmUoKSB7XHJcbiAgcHJvZmlsZVBpY3R1cmVQb3B1cC5vcGVuKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRQcm9maWxlQnRuKCkge1xyXG4gIGNvbnN0IGRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIGVkaXRQcm9maWxlLm9wZW4oZGF0YSk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJlZGl0UHJvZmlsZUZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmQoKSB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJhZGRDYXJkRm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBhZGRDYXJkLm9wZW4oKTtcclxufVxyXG5cclxuZXhwb3J0IHsgdXNlckluZm8sIGZvcm1WYWxpZGF0b3JzIH07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIsIHNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgY29uc3QgY2FyZCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZCk7XHJcbiAgfVxyXG5cclxuICBfY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuICB9XHJcblxyXG4gIHJlbmRlckFsbChpdGVtcykge1xyXG4gICAgdGhpcy5fY2xlYXIoKTtcclxuICAgIHRoaXMuX3JlbmRlckl0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuYWRkSXRlbShpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBNRUlEIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiXHJcblxyXG5cclxuY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoeyBkYXRhLCBoYW5kbGVJbWcsIGhhbmRsZURlbCwgaGFuZGxlTGlrZSB9LCBzZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX3NyYyA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzQ291bnQgPSBkYXRhLmxpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLm93bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5sZGVJbWdDbGljayA9IGhhbmRsZUltZztcclxuICAgIHRoaXMuX2hhbmRsZURlbCA9IGhhbmRsZURlbDtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VCdG4gPSBoYW5kbGVMaWtlO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX3NlbGVjdG9yfWApXHJcbiAgICAgIC5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2ltZyA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1nXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fY2FwdGlvblwiKTtcclxuICAgIHRoaXMuX3RyYXNoID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190cmFzaFwiKTtcclxuICAgIHRoaXMuX2xpa2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnRuXCIpO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRlclwiKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBtYWtlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcclxuICAgIHRoaXMuX2ltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5fc3JjKTtcclxuICAgIHRoaXMuX2ltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgdGhpcy5fbmFtZSk7XHJcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2xpa2VzLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXNDb3VudDtcclxuICAgIHRoaXMuX2FkZExpc3RlbmVycygpO1xyXG4gICAgaWYgKE1FSUQuc2VsZiAhPSB0aGlzLm93bmVySWQpIHtcclxuICAgICAgdGhpcy5fdHJhc2guY2xhc3NMaXN0LmFkZChcInRyYXNoX2Rpc3BsYXktbm9uZVwiKTtcclxuICAgICAgdGhpcy5fdHJhc2guc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIHRoaXMuX2lkKTtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX2FkZExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VCdG4oKSk7XHJcbiAgICB0aGlzLl9pbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmxkZUltZ0NsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgc3JjOiB0aGlzLl9zcmMgfSlcclxuICAgICk7XHJcbiAgICB0aGlzLl90cmFzaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlRGVsKHRoaXMuX2lkKSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVMaWtlcyhsaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudCA9IGxpa2VzO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICB9XHJcblxyXG4gIF9pc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuICghKHRoaXMuX2xpa2UuY2xhc3NMaXN0Lmxlbmd0aCA9PSAxKSk7XHJcbiAgfVxyXG5cclxuICBfcmVuZGVyTGlrZXMoKSB7XHJcbiAgICB0aGlzLl9saWtlcy50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzQ291bnQ7XHJcbiAgICB0aGlzLl9saWtlLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICByZW1vdmUoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuaW1nLXBvcG91dF9faW1nXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuaW1nLXBvcG91dF9fY2FwdGlvblwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gZGF0YS5zcmM7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBXYXJuUG9wdXAgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgc2V0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9tb2RhbFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1lZGl0X19zdWJtaXRcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIChldnQpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoZXZ0KTtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgIHRoaXMuX25hbWVTZWxlY3RvciA9IGRhdGEubmFtZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5fam9iU2VsZWN0b3IgPSBkYXRhLmpvYlNlbGVjdG9yO1xyXG4gICAgdGhpcy5fbmFtZU5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX25hbWVTZWxlY3Rvcn1gKTtcclxuICAgIHRoaXMuX2pvYk5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX2pvYlNlbGVjdG9yfWApO1xyXG4gICAgdGhpcy5fcGljdHVyZU5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY3R1cmVcIik7XHJcbiAgICB0aGlzLmlkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkYXRhLmF2YXRhcjtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgdGhpcy5fbmFtZSA9IHRoaXMuX25hbWVOb2RlLnRleHRDb250ZW50O1xyXG4gICAgdGhpcy5fam9iID0gdGhpcy5fam9iTm9kZS50ZXh0Q29udGVudDtcclxuXHJcbiAgICByZXR1cm4geyBuYW1lOiB0aGlzLl9uYW1lLCBhYm91dDogdGhpcy5fam9iIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuZXdEYXRhKSB7XHJcbiAgICB0aGlzLl9uYW1lTm9kZS50ZXh0Q29udGVudCA9IG5ld0RhdGEubmFtZTtcclxuICAgIHRoaXMuX2pvYk5vZGUudGV4dENvbnRlbnQgPSBuZXdEYXRhLmFib3V0O1xyXG4gICAgdGhpcy5pZCA9IG5ld0RhdGEuX2lkO1xyXG4gICAgdGhpcy5zZXRVc2VyQXZhdGFyKG5ld0RhdGEuYXZhdGFyKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJBdmF0YXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcclxuICAgIHRoaXMuX3BpY3R1cmVOb2RlLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9idG5FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdG5TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnRuU3RhdGUoKTtcclxuICAgIHRoaXMucmVzZXRWYWxpZGF0aW9uKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oaWRlT3JTaG93RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdG5TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVPclNob3dFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1zZykgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpfWBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNc2c7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIil9YFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcclxuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgX3RvZ2dsZUJ0blN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XHJcbiAgICAgIHRoaXMuX2J0bkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idG5FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iXSwibmFtZXMiOlsiTUVJRCIsInNlbGYiLCJidG5FZGl0UHJvZmlsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJ0bkFkZENhcmQiLCJidG5Qcm9maWxlUGljdHVyZSIsIlBPUFVQX0FDVElWRV9DTEFTUyIsIlBvcHVwIiwiY29uc3RydWN0b3IiLCJzZWxlY3RvciIsInRoaXMiLCJfc2VsZWN0b3IiLCJfbW9kYWwiLCJfaGFuZGxlRXNjS2V5IiwiYmluZCIsIl9oYW5kbGVDbG9zZVBvcHVwIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJzZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIm9wZW4iLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdCIsImxvYWRpbmdCdG5UZXh0Iiwic3VwZXIiLCJfaGFuZGxlU3VibWl0IiwiX2hhbmRsZXJXaXRoRm9ybSIsIl9mb3JtIiwiX2lucHV0RmllbGRzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdG4iLCJfYnRuSW5pdFRleHQiLCJ0ZXh0Q29udGVudCIsIl9sb2FkaW5nQnRuVGV4dCIsImNvbnNvbGUiLCJsb2ciLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImZvckVhY2giLCJmaWVsZCIsIm5hbWUiLCJ2YWx1ZSIsImRhdGEiLCJfc2V0SW5wdXRWYWx1ZXMiLCJ2YWx1ZXMiLCJPYmplY3QiLCJrZXlzIiwicHJldmVudERlZmF1bHQiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwic2V0VGltZW91dCIsInJlc2V0IiwiYXBpIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsIl9iYXNlVVJMIiwiX2hlYWRlcnMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsIl9wcm9jZXNzUmVzcG9uc2UiLCJnZXRJbml0aWFsQ2FyZHMiLCJwYXRjaFVzZXJJbmZvIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwb3N0TmV3Q2FyZCIsImRlbGV0ZUNhcmQiLCJpZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwiY2hhbmdlQXZhdGFyIiwiYXZhdGFyIiwiZ2V0SW5pdGlhbERhdGEiLCJhbGwiLCJhdXRob3JpemF0aW9uIiwiZ2FsbGVyeVNlY3Rpb24iLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJhZGRJdGVtIiwiaXRlbSIsImNhcmQiLCJwcmVwZW5kIiwiX2NsZWFyIiwiaW5uZXJIVE1MIiwicmVuZGVyQWxsIiwiaXRlbXMiLCJfcmVuZGVySXRlbXMiLCJjYXJkRWxlbWVudCIsImhhbmRsZUltZyIsImhhbmRsZURlbCIsImhhbmRsZUxpa2UiLCJfbmFtZSIsIl9zcmMiLCJsaW5rIiwiX2xpa2VzQ291bnQiLCJsaWtlcyIsImxlbmd0aCIsIl9pZCIsIm93bmVySWQiLCJvd25lciIsIl9oYW5sZGVJbWdDbGljayIsIl9oYW5kbGVEZWwiLCJfaGFuZGxlTGlrZUJ0biIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfaW1nIiwiX2NhcHRpb24iLCJfdHJhc2giLCJfbGlrZSIsIl9saWtlcyIsIm1ha2VDYXJkIiwiX2VsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJfYWRkTGlzdGVuZXJzIiwic3JjIiwidXBkYXRlTGlrZXMiLCJfcmVuZGVyTGlrZXMiLCJfaXNMaWtlZCIsInRvZ2dsZSIsInBvcHVwSW1nIiwiZGVsV2FyblBvcHVwIiwic2V0QWN0aW9uIiwiY2F0Y2giLCJlcnIiLCJyZXNwb25zZSIsImVycm9yIiwiY3JlYXRlQ2FyZCIsIl9pbWFnZSIsImFsdCIsInByb2ZpbGVQaWN0dXJlUG9wdXAiLCJpbWFnZUxpbmsiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiZmluYWxseSIsImVkaXRQcm9maWxlIiwiYWRkQ2FyZCIsImFjdGlvbiIsIl9uYW1lU2VsZWN0b3IiLCJuYW1lU2VsZWN0b3IiLCJfam9iU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsIl9uYW1lTm9kZSIsIl9qb2JOb2RlIiwiX3BpY3R1cmVOb2RlIiwiX2F2YXRhciIsIl9qb2IiLCJhYm91dCIsIm5ld0RhdGEiLCJzZXRVc2VyQXZhdGFyIiwiZ2V0VXNlckF2YXRhciIsImZvcm1WYWxpZGF0b3JzIiwic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkFycmF5IiwiZnJvbSIsImZvcm1FbGVtZW50IiwidmFsaWRhdG9yIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNc2ciLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJfc2V0dGluZ3MiLCJpbnB1dExpc3QiLCJzb21lIiwiX2lucHV0TGlzdCIsIl9idG5FbGVtZW50IiwicmVzZXRWYWxpZGF0aW9uIiwiX3RvZ2dsZUJ0blN0YXRlIiwiZW5hYmxlVmFsaWRhdGlvbiIsIl9oaWRlT3JTaG93RXJyb3IiLCJfaGFzSW52YWxpZElucHV0IiwicmVtb3ZlQXR0cmlidXRlIiwiZm9ybU5hbWUiLCJ1c2VyRGF0YSIsImNhcmRzQXJyYXkiXSwic291cmNlUm9vdCI6IiJ9